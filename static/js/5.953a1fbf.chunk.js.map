{"version":3,"sources":["components/comicsList/ComicsList.js","components/pages/ComicsPage.js"],"names":["ComicsList","_useState","useState","_useState2","_slicedToArray","comics","setComics","_useState3","_useState4","offset","setOffset","_useState5","_useState6","disable","setDisable","_useMarvelServices","useMarvelServices","loading","getAllComics","error","useEffect","onRequest","then","onComicsLoaded","newChars","concat","_toConsumableArray","prev","elems","map","item","i","_jsx","className","children","_jsxs","Link","to","id","src","thumbnail","alt","title","prices","loadMessage","Spinner","disabled","onClick","ComicsPage","_Fragment","AppBanner"],"mappings":"6LAsDeA,EAhDI,WACjB,IAAAC,EAA4BC,mBAAS,IAAGC,EAAAC,YAAAH,EAAA,GAAjCI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,EAA4BL,mBAAS,KAAIM,EAAAJ,YAAAG,EAAA,GAAlCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GACxBG,EAA8BT,oBAAS,GAAMU,EAAAR,YAAAO,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GAC1BG,EAAyCC,cAAjCC,EAAOF,EAAPE,QAAgBC,GAAFH,EAALI,MAAmBJ,EAAZG,cAExBE,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAY,SAAAZ,GAChBK,GAAW,GACXI,EAAaT,GAAQa,MAAK,SAAAjB,GAAM,OAAIkB,EAAelB,OAG/CkB,EAAiB,SAAAC,GACrBlB,EAAU,GAADmB,OAAAC,YAAKrB,GAAMqB,YAAKF,KACzBV,GAAW,GACXJ,GAAU,SAAAiB,GAAI,OAAIA,EAAO,MAGrBC,EAAQvB,EAAOwB,KAAI,SAACC,EAAMC,GAC9B,OACEC,cAAA,MAAYC,UAAU,eAAcC,SAClCC,eAACC,IAAI,CAACC,GAAE,WAAAZ,OAAaK,EAAKQ,IAAKJ,SAAA,CAC7BF,cAAA,OAAKO,IAAKT,EAAKU,UAAWC,IAAI,eAAeR,UAAU,qBACvDD,cAAA,OAAKC,UAAU,oBAAmBC,SAAEJ,EAAKY,QACzCV,cAAA,OAAKC,UAAU,qBAAoBC,SAAEJ,EAAKa,aAJrCZ,MAUPa,EAAc3B,EAAUe,cAACa,IAAO,IAAM,KAE5C,OACEV,eAAA,OAAKF,UAAU,eAAcC,SAAA,CAC3BC,eAAA,MAAIF,UAAU,eAAcC,SAAA,CACzBN,EACAgB,KAEHZ,cAAA,UAAQc,SAAUjC,EAASkC,QAAS,kBAAM1B,EAAUZ,IAASwB,UAAU,mCAAkCC,SACvGF,cAAA,OAAKC,UAAU,QAAOC,SAAC,oB,QCrChBc,UARI,WACjB,OACEb,eAAAc,WAAA,CAAAf,SAAA,CACEF,cAACkB,IAAS,IACVlB,cAAChC,EAAU","file":"static/js/5.953a1fbf.chunk.js","sourcesContent":["import \"./comicsList.scss\";\nimport Spinner from \"../spinner/spinner\";\nimport useMarvelServices from \"../../services/MarvelServices\";\nimport { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst ComicsList = () => {\n  const [comics, setComics] = useState([]);\n  const [offset, setOffset] = useState(210);\n  const [disable, setDisable] = useState(false);\n  const { loading, error, getAllComics } = useMarvelServices();\n\n  useEffect(() => {\n    onRequest();\n  }, []);\n\n  const onRequest = offset => {\n    setDisable(true);\n    getAllComics(offset).then(comics => onComicsLoaded(comics));\n  };\n\n  const onComicsLoaded = newChars => {\n    setComics([...comics, ...newChars]);\n    setDisable(false);\n    setOffset(prev => prev + 8);\n  };\n\n  const elems = comics.map((item, i) => {\n    return (\n      <li key={i} className=\"comics__item\">\n        <Link to={`/comics/${item.id}`}>\n          <img src={item.thumbnail} alt=\"ultimate war\" className=\"comics__item-img\" />\n          <div className=\"comics__item-name\">{item.title}</div>\n          <div className=\"comics__item-price\">{item.prices}</div>\n        </Link>\n      </li>\n    );\n  });\n\n  const loadMessage = loading ? <Spinner /> : null;\n\n  return (\n    <div className=\"comics__list\">\n      <ul className=\"comics__grid\">\n        {elems}\n        {loadMessage}\n      </ul>\n      <button disabled={disable} onClick={() => onRequest(offset)} className=\"button button__main button__long\">\n        <div className=\"inner\">load more</div>\n      </button>\n    </div>\n  );\n};\n\nexport default ComicsList;\n","import ComicsList from \"../comicsList/ComicsList\";\nimport AppBanner from \"../appBanner/AppBanner\";\n\nconst ComicsPage = () => {\n  return (\n    <>\n      <AppBanner />\n      <ComicsList />\n    </>\n  );\n};\nexport default ComicsPage;\n"],"sourceRoot":""}